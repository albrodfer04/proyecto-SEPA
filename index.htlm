<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Domotica inclusiva: src/Integracion_pantalla_documentado.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="Adobe Express - file.png"/></td>
  <td id="projectalign">
   <div id="projectname">Domotica inclusiva<span id="projectnumber">&#160;v.0.5</span>
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('_integracion__pantalla__documentado_8c.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">Integracion_pantalla_documentado.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Sistema integrado: sensores, pantalla FT800, servo, motor, LED RGB y UART.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &quot;driverlib2.h&quot;</code><br />
<code>#include &quot;utils/uartstdio.h&quot;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;math.h&gt;</code><br />
<code>#include &quot;HAL_I2C.h&quot;</code><br />
<code>#include &quot;sensorlib2.h&quot;</code><br />
<code>#include &quot;FT800_TIVA.h&quot;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a82b271e081de4cfb35eb87b0c13dddba" id="r_a82b271e081de4cfb35eb87b0c13dddba"><td class="memItemLeft" align="right" valign="top"><a id="a82b271e081de4cfb35eb87b0c13dddba" name="a82b271e081de4cfb35eb87b0c13dddba"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>BP</b>&#160;&#160;&#160;2</td></tr>
<tr class="separator:a82b271e081de4cfb35eb87b0c13dddba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55849dc98f28432a4601c29a4a352a97" id="r_a55849dc98f28432a4601c29a4a352a97"><td class="memItemLeft" align="right" valign="top"><a id="a55849dc98f28432a4601c29a4a352a97" name="a55849dc98f28432a4601c29a4a352a97"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>dword</b>&#160;&#160;&#160;long</td></tr>
<tr class="separator:a55849dc98f28432a4601c29a4a352a97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71809484a26cd96c6abe839a0a8a289d" id="r_a71809484a26cd96c6abe839a0a8a289d"><td class="memItemLeft" align="right" valign="top"><a id="a71809484a26cd96c6abe839a0a8a289d" name="a71809484a26cd96c6abe839a0a8a289d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>byte</b>&#160;&#160;&#160;char</td></tr>
<tr class="separator:a71809484a26cd96c6abe839a0a8a289d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a097e69eabf0bcad178a5958f83036f68" id="r_a097e69eabf0bcad178a5958f83036f68"><td class="memItemLeft" align="right" valign="top"><a id="a097e69eabf0bcad178a5958f83036f68" name="a097e69eabf0bcad178a5958f83036f68"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MSEC</b>&#160;&#160;&#160;40000</td></tr>
<tr class="separator:a097e69eabf0bcad178a5958f83036f68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf2adfc802f3e48a3750b1b928cb1623" id="r_adf2adfc802f3e48a3750b1b928cb1623"><td class="memItemLeft" align="right" valign="top"><a id="adf2adfc802f3e48a3750b1b928cb1623" name="adf2adfc802f3e48a3750b1b928cb1623"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>NUM_SSI_DATA</b>&#160;&#160;&#160;3</td></tr>
<tr class="separator:adf2adfc802f3e48a3750b1b928cb1623"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44e89d523436fcbbf2c56e4fb335d509" id="r_a44e89d523436fcbbf2c56e4fb335d509"><td class="memItemLeft" align="right" valign="top"><a id="a44e89d523436fcbbf2c56e4fb335d509" name="a44e89d523436fcbbf2c56e4fb335d509"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SLEEP</b>&#160;&#160;&#160;<a class="el" href="#aa9c40ba2718ca2b741067fdeab61a385">SysCtlSleepFake</a>()</td></tr>
<tr class="separator:a44e89d523436fcbbf2c56e4fb335d509"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa9c40ba2718ca2b741067fdeab61a385" id="r_aa9c40ba2718ca2b741067fdeab61a385"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa9c40ba2718ca2b741067fdeab61a385">SysCtlSleepFake</a> (void)</td></tr>
<tr class="memdesc:aa9c40ba2718ca2b741067fdeab61a385"><td class="mdescLeft">&#160;</td><td class="mdescRight">Simula modo Sleep: bloquea hasta el flag de interrupcion.  <br /></td></tr>
<tr class="separator:aa9c40ba2718ca2b741067fdeab61a385"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7121f53a94274f5f8d62d551c8272f5c" id="r_a7121f53a94274f5f8d62d551c8272f5c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7121f53a94274f5f8d62d551c8272f5c">IntTimer0</a> (void)</td></tr>
<tr class="memdesc:a7121f53a94274f5f8d62d551c8272f5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">ISR del Timer0A (periodo 50 ms).  <br /></td></tr>
<tr class="separator:a7121f53a94274f5f8d62d551c8272f5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d029c5d586659de506ec1e740ad5580" id="r_a9d029c5d586659de506ec1e740ad5580"><td class="memItemLeft" align="right" valign="top"><a id="a9d029c5d586659de506ec1e740ad5580" name="a9d029c5d586659de506ec1e740ad5580"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>Reloj_inicializacion</b> (void)</td></tr>
<tr class="memdesc:a9d029c5d586659de506ec1e740ad5580"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configura reloj del sistema y Timer0A con interrupcion cada 50 ms. <br /></td></tr>
<tr class="separator:a9d029c5d586659de506ec1e740ad5580"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6be34deadd6e63b1c519b112838b7caa" id="r_a6be34deadd6e63b1c519b112838b7caa"><td class="memItemLeft" align="right" valign="top"><a id="a6be34deadd6e63b1c519b112838b7caa" name="a6be34deadd6e63b1c519b112838b7caa"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>Inicializacion_UART</b> (void)</td></tr>
<tr class="memdesc:a6be34deadd6e63b1c519b112838b7caa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inicializa UART0 a 115200 baudios. <br /></td></tr>
<tr class="separator:a6be34deadd6e63b1c519b112838b7caa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c5807bc5365e226f047aae4eb7cf1e1" id="r_a7c5807bc5365e226f047aae4eb7cf1e1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7c5807bc5365e226f047aae4eb7cf1e1">humo_Detectar</a> (void)</td></tr>
<tr class="memdesc:a7c5807bc5365e226f047aae4eb7cf1e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lee ADC y pin digital del sensor de humos; actualiza estados.  <br /></td></tr>
<tr class="separator:a7c5807bc5365e226f047aae4eb7cf1e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35441a1fc7f64e69730e47575370f613" id="r_a35441a1fc7f64e69730e47575370f613"><td class="memItemLeft" align="right" valign="top"><a id="a35441a1fc7f64e69730e47575370f613" name="a35441a1fc7f64e69730e47575370f613"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>humo_Inicializar_Pines</b> (void)</td></tr>
<tr class="memdesc:a35441a1fc7f64e69730e47575370f613"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inicializa ADC0 y pines asociados al sensor de humos. <br /></td></tr>
<tr class="separator:a35441a1fc7f64e69730e47575370f613"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5de242fd78783f909185758b19e26d94" id="r_a5de242fd78783f909185758b19e26d94"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5de242fd78783f909185758b19e26d94">humo_Precalentar</a> (void)</td></tr>
<tr class="memdesc:a5de242fd78783f909185758b19e26d94"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ejecuta el precalentamiento del sensor MQ.  <br /></td></tr>
<tr class="separator:a5de242fd78783f909185758b19e26d94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c1d56d075faa8ca6e9e6526160f6bb1" id="r_a6c1d56d075faa8ca6e9e6526160f6bb1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6c1d56d075faa8ca6e9e6526160f6bb1">motor_Configurar_Pines</a> (void)</td></tr>
<tr class="memdesc:a6c1d56d075faa8ca6e9e6526160f6bb1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configura pines de direccion y PWM del motor DC.  <br /></td></tr>
<tr class="separator:a6c1d56d075faa8ca6e9e6526160f6bb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdab703c6d13176117ff4fcaeafc283b" id="r_abdab703c6d13176117ff4fcaeafc283b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abdab703c6d13176117ff4fcaeafc283b">motor_Velocidad</a> (uint8_t porcentaje)</td></tr>
<tr class="memdesc:abdab703c6d13176117ff4fcaeafc283b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ajusta la velocidad del motor DC.  <br /></td></tr>
<tr class="separator:abdab703c6d13176117ff4fcaeafc283b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32c37aadf57658eec0881bffb668ccb1" id="r_a32c37aadf57658eec0881bffb668ccb1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a32c37aadf57658eec0881bffb668ccb1">motor_Encendido_Apagado</a> (uint8_t estado)</td></tr>
<tr class="memdesc:a32c37aadf57658eec0881bffb668ccb1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enciende o apaga el motor mediante PWM.  <br /></td></tr>
<tr class="separator:a32c37aadf57658eec0881bffb668ccb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56f7aa3e3db2ad5dec92d18c8f236693" id="r_a56f7aa3e3db2ad5dec92d18c8f236693"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a56f7aa3e3db2ad5dec92d18c8f236693">motor_Direccion</a> (uint8_t dir)</td></tr>
<tr class="memdesc:a56f7aa3e3db2ad5dec92d18c8f236693"><td class="mdescLeft">&#160;</td><td class="mdescRight">Establece la direccion del motor.  <br /></td></tr>
<tr class="separator:a56f7aa3e3db2ad5dec92d18c8f236693"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addd5d55874899c4ce23e3e0c6ff01f50" id="r_addd5d55874899c4ce23e3e0c6ff01f50"><td class="memItemLeft" align="right" valign="top"><a id="addd5d55874899c4ce23e3e0c6ff01f50" name="addd5d55874899c4ce23e3e0c6ff01f50"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>puerta_Configurar_Pines</b> (void)</td></tr>
<tr class="memdesc:addd5d55874899c4ce23e3e0c6ff01f50"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configura el pin PA7 como entrada digital con pull-up. <br /></td></tr>
<tr class="separator:addd5d55874899c4ce23e3e0c6ff01f50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad51a376c250d2358dd6b2042811edb77" id="r_ad51a376c250d2358dd6b2042811edb77"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad51a376c250d2358dd6b2042811edb77">puerta_Detectar</a> (void)</td></tr>
<tr class="memdesc:ad51a376c250d2358dd6b2042811edb77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lee el estado del sensor iman (puerta) y lo imprime por UART.  <br /></td></tr>
<tr class="separator:ad51a376c250d2358dd6b2042811edb77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49993f2f28c23c34d5106c954f5b0dd6" id="r_a49993f2f28c23c34d5106c954f5b0dd6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a49993f2f28c23c34d5106c954f5b0dd6">led</a> (int DutyRojo, int DutyVerde, int DutyAzul)</td></tr>
<tr class="memdesc:a49993f2f28c23c34d5106c954f5b0dd6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ajusta el brillo de cada canal del LED RGB.  <br /></td></tr>
<tr class="separator:a49993f2f28c23c34d5106c954f5b0dd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a155a5b13c56d205f4045224707faa9f6" id="r_a155a5b13c56d205f4045224707faa9f6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a155a5b13c56d205f4045224707faa9f6">led_Inicializar_Pines</a> (void)</td></tr>
<tr class="memdesc:a155a5b13c56d205f4045224707faa9f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inicializa los pines PWM del LED RGB (PG1, PK4, PK5).  <br /></td></tr>
<tr class="separator:a155a5b13c56d205f4045224707faa9f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa84c5e8257c315af3e5cfee2d0eaad31" id="r_aa84c5e8257c315af3e5cfee2d0eaad31"><td class="memItemLeft" align="right" valign="top"><a id="aa84c5e8257c315af3e5cfee2d0eaad31" name="aa84c5e8257c315af3e5cfee2d0eaad31"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>sensores_booster_inic</b> (void)</td></tr>
<tr class="memdesc:aa84c5e8257c315af3e5cfee2d0eaad31"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inicializa OPT3001 y BME280; detecta boosterpack en slot 1 o 2. <br /></td></tr>
<tr class="separator:aa84c5e8257c315af3e5cfee2d0eaad31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2706cc95183f7dc0c3c3b0a96bc7fa59" id="r_a2706cc95183f7dc0c3c3b0a96bc7fa59"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2706cc95183f7dc0c3c3b0a96bc7fa59">lee_sensores</a> (void)</td></tr>
<tr class="memdesc:a2706cc95183f7dc0c3c3b0a96bc7fa59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lee sensores de luz y temperatura/humedad y publica por UART.  <br /></td></tr>
<tr class="separator:a2706cc95183f7dc0c3c3b0a96bc7fa59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a280e3d914407b4903279a543d7738c4e" id="r_a280e3d914407b4903279a543d7738c4e"><td class="memItemLeft" align="right" valign="top"><a id="a280e3d914407b4903279a543d7738c4e" name="a280e3d914407b4903279a543d7738c4e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>Servo_inic</b> (void)</td></tr>
<tr class="memdesc:a280e3d914407b4903279a543d7738c4e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inicializa servo en PF1 y configura PWM para 50 Hz. <br /></td></tr>
<tr class="separator:a280e3d914407b4903279a543d7738c4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66f962892a7af0c8894838239247d0ba" id="r_a66f962892a7af0c8894838239247d0ba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a66f962892a7af0c8894838239247d0ba">Servo</a> (int angulo_objetivo)</td></tr>
<tr class="memdesc:a66f962892a7af0c8894838239247d0ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mueve servo hacia angulo objetivo suavemente.  <br /></td></tr>
<tr class="separator:a66f962892a7af0c8894838239247d0ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa77bbc7087c222a1d4efae7277fd2e3d" id="r_aa77bbc7087c222a1d4efae7277fd2e3d"><td class="memItemLeft" align="right" valign="top"><a id="aa77bbc7087c222a1d4efae7277fd2e3d" name="aa77bbc7087c222a1d4efae7277fd2e3d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>inicia_pantalla</b> (void)</td></tr>
<tr class="memdesc:aa77bbc7087c222a1d4efae7277fd2e3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inicializa la pantalla FT800 por SPI. <br /></td></tr>
<tr class="separator:aa77bbc7087c222a1d4efae7277fd2e3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada16c04b6f4118c8f0d7ad8a400ac5b6" id="r_ada16c04b6f4118c8f0d7ad8a400ac5b6"><td class="memItemLeft" align="right" valign="top"><a id="ada16c04b6f4118c8f0d7ad8a400ac5b6" name="ada16c04b6f4118c8f0d7ad8a400ac5b6"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>dibuja_pantalla</b> (void)</td></tr>
<tr class="memdesc:ada16c04b6f4118c8f0d7ad8a400ac5b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Redibuja la pantalla completa (fondo, mensajes, botones). <br /></td></tr>
<tr class="separator:ada16c04b6f4118c8f0d7ad8a400ac5b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a970526217a909e7ae5bcd0d0d22d1829" id="r_a970526217a909e7ae5bcd0d0d22d1829"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a970526217a909e7ae5bcd0d0d22d1829">MandaMensaje</a> (char *s)</td></tr>
<tr class="memdesc:a970526217a909e7ae5bcd0d0d22d1829"><td class="mdescLeft">&#160;</td><td class="mdescRight">Anade un mensaje al buffer de pantalla (max 2).  <br /></td></tr>
<tr class="separator:a970526217a909e7ae5bcd0d0d22d1829"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08c8d46dc6a7ff7601f0f50012578297" id="r_a08c8d46dc6a7ff7601f0f50012578297"><td class="memItemLeft" align="right" valign="top"><a id="a08c8d46dc6a7ff7601f0f50012578297" name="a08c8d46dc6a7ff7601f0f50012578297"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>DibujaMensaje</b> (void)</td></tr>
<tr class="memdesc:a08c8d46dc6a7ff7601f0f50012578297"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dibuja los mensajes almacenados en pantalla. <br /></td></tr>
<tr class="separator:a08c8d46dc6a7ff7601f0f50012578297"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc25f0d3b85ff4769fa96f13d576b6a5" id="r_afc25f0d3b85ff4769fa96f13d576b6a5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afc25f0d3b85ff4769fa96f13d576b6a5">DibujaRecordatorios</a> (int pastilla, int comida)</td></tr>
<tr class="memdesc:afc25f0d3b85ff4769fa96f13d576b6a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dibuja recordatorios de pastilla y comida.  <br /></td></tr>
<tr class="separator:afc25f0d3b85ff4769fa96f13d576b6a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c8787c85cd0735105c257a15a8edd78" id="r_a8c8787c85cd0735105c257a15a8edd78"><td class="memItemLeft" align="right" valign="top"><a id="a8c8787c85cd0735105c257a15a8edd78" name="a8c8787c85cd0735105c257a15a8edd78"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>DibujaBotones</b> (void)</td></tr>
<tr class="memdesc:a8c8787c85cd0735105c257a15a8edd78"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dibuja los botones graficos de la UI. <br /></td></tr>
<tr class="separator:a8c8787c85cd0735105c257a15a8edd78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0bce10ff1544af7de342615a8a663da" id="r_ae0bce10ff1544af7de342615a8a663da"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae0bce10ff1544af7de342615a8a663da">DatosPantalla</a> (void)</td></tr>
<tr class="memdesc:ae0bce10ff1544af7de342615a8a663da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Procesa la interaccion tactil y actualiza estados.  <br /></td></tr>
<tr class="separator:ae0bce10ff1544af7de342615a8a663da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a840291bc02cba5474a4cb46a9b9566fe" id="r_a840291bc02cba5474a4cb46a9b9566fe"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a840291bc02cba5474a4cb46a9b9566fe">main</a> (void)</td></tr>
<tr class="memdesc:a840291bc02cba5474a4cb46a9b9566fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Funcion principal.  <br /></td></tr>
<tr class="separator:a840291bc02cba5474a4cb46a9b9566fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a02bb75cf3e5e241c1c2bfe4077c94681" id="r_a02bb75cf3e5e241c1c2bfe4077c94681"><td class="memItemLeft" align="right" valign="top"><a id="a02bb75cf3e5e241c1c2bfe4077c94681" name="a02bb75cf3e5e241c1c2bfe4077c94681"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>RELOJ</b></td></tr>
<tr class="separator:a02bb75cf3e5e241c1c2bfe4077c94681"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e01b8308e51042638e43f6ab3b868fd" id="r_a4e01b8308e51042638e43f6ab3b868fd"><td class="memItemLeft" align="right" valign="top"><a id="a4e01b8308e51042638e43f6ab3b868fd" name="a4e01b8308e51042638e43f6ab3b868fd"></a>
volatile int&#160;</td><td class="memItemRight" valign="bottom"><b>Flag_ints</b> = 0</td></tr>
<tr class="separator:a4e01b8308e51042638e43f6ab3b868fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad48c42b9f0ae7b42a8e2cc69b053891b" id="r_ad48c42b9f0ae7b42a8e2cc69b053891b"><td class="memItemLeft" align="right" valign="top"><a id="ad48c42b9f0ae7b42a8e2cc69b053891b" name="ad48c42b9f0ae7b42a8e2cc69b053891b"></a>
const int&#160;</td><td class="memItemRight" valign="bottom"><b>FREC_TIMER</b> = 20</td></tr>
<tr class="separator:ad48c42b9f0ae7b42a8e2cc69b053891b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b803d737ec44afaec5c0077d5032d8e" id="r_a0b803d737ec44afaec5c0077d5032d8e"><td class="memItemLeft" align="right" valign="top"><a id="a0b803d737ec44afaec5c0077d5032d8e" name="a0b803d737ec44afaec5c0077d5032d8e"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>Load</b></td></tr>
<tr class="separator:a0b803d737ec44afaec5c0077d5032d8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97127075abf5adcf325971fecc8ce970" id="r_a97127075abf5adcf325971fecc8ce970"><td class="memItemLeft" align="right" valign="top"><a id="a97127075abf5adcf325971fecc8ce970" name="a97127075abf5adcf325971fecc8ce970"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>adcValue</b></td></tr>
<tr class="separator:a97127075abf5adcf325971fecc8ce970"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a144b2a42ba1949727f41e7e6cc523c22" id="r_a144b2a42ba1949727f41e7e6cc523c22"><td class="memItemLeft" align="right" valign="top"><a id="a144b2a42ba1949727f41e7e6cc523c22" name="a144b2a42ba1949727f41e7e6cc523c22"></a>
volatile int&#160;</td><td class="memItemRight" valign="bottom"><b>preheating</b> = 0</td></tr>
<tr class="separator:a144b2a42ba1949727f41e7e6cc523c22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a423785ac68d2a74ebac3677cdb35d0da" id="r_a423785ac68d2a74ebac3677cdb35d0da"><td class="memItemLeft" align="right" valign="top"><a id="a423785ac68d2a74ebac3677cdb35d0da" name="a423785ac68d2a74ebac3677cdb35d0da"></a>
const int&#160;</td><td class="memItemRight" valign="bottom"><b>PREHEAT_TICKS</b> = 600</td></tr>
<tr class="separator:a423785ac68d2a74ebac3677cdb35d0da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8a6881a2eb7bf1ead38286e5f6857ce" id="r_ab8a6881a2eb7bf1ead38286e5f6857ce"><td class="memItemLeft" align="right" valign="top"><a id="ab8a6881a2eb7bf1ead38286e5f6857ce" name="ab8a6881a2eb7bf1ead38286e5f6857ce"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>gasDetectadoAnag</b></td></tr>
<tr class="separator:ab8a6881a2eb7bf1ead38286e5f6857ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a526ce6433acdf7cdab1967592a67a863" id="r_a526ce6433acdf7cdab1967592a67a863"><td class="memItemLeft" align="right" valign="top"><a id="a526ce6433acdf7cdab1967592a67a863" name="a526ce6433acdf7cdab1967592a67a863"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>gasDetected</b></td></tr>
<tr class="separator:a526ce6433acdf7cdab1967592a67a863"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14600b04ab2c771d84d6c7be5eaaa621" id="r_a14600b04ab2c771d84d6c7be5eaaa621"><td class="memItemLeft" align="right" valign="top"><a id="a14600b04ab2c771d84d6c7be5eaaa621" name="a14600b04ab2c771d84d6c7be5eaaa621"></a>
const int&#160;</td><td class="memItemRight" valign="bottom"><b>FREC_PWM</b> = 1000</td></tr>
<tr class="separator:a14600b04ab2c771d84d6c7be5eaaa621"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab243a1ee02c427144f6bc0908a137f3f" id="r_ab243a1ee02c427144f6bc0908a137f3f"><td class="memItemLeft" align="right" valign="top"><a id="ab243a1ee02c427144f6bc0908a137f3f" name="ab243a1ee02c427144f6bc0908a137f3f"></a>
char&#160;</td><td class="memItemRight" valign="bottom"><b>puerta_abierta</b></td></tr>
<tr class="separator:ab243a1ee02c427144f6bc0908a137f3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a258631df14530291dce17755cfd14416" id="r_a258631df14530291dce17755cfd14416"><td class="memItemLeft" align="right" valign="top"><a id="a258631df14530291dce17755cfd14416" name="a258631df14530291dce17755cfd14416"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>Dutymax</b> = 255</td></tr>
<tr class="separator:a258631df14530291dce17755cfd14416"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03a104e2854d193ff55e758fbed1b8c1" id="r_a03a104e2854d193ff55e758fbed1b8c1"><td class="memItemLeft" align="right" valign="top"><a id="a03a104e2854d193ff55e758fbed1b8c1" name="a03a104e2854d193ff55e758fbed1b8c1"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>Dutymin</b> = 0</td></tr>
<tr class="separator:a03a104e2854d193ff55e758fbed1b8c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f1605caa962748b99d2ef836e4331f7" id="r_a0f1605caa962748b99d2ef836e4331f7"><td class="memItemLeft" align="right" valign="top"><a id="a0f1605caa962748b99d2ef836e4331f7" name="a0f1605caa962748b99d2ef836e4331f7"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>DevID</b> = 0</td></tr>
<tr class="separator:a0f1605caa962748b99d2ef836e4331f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03162a568e0564f8c5bc49129f9a6aef" id="r_a03162a568e0564f8c5bc49129f9a6aef"><td class="memItemLeft" align="right" valign="top"><a id="a03162a568e0564f8c5bc49129f9a6aef" name="a03162a568e0564f8c5bc49129f9a6aef"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>lux</b></td></tr>
<tr class="separator:a03162a568e0564f8c5bc49129f9a6aef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ea7b4717bd544e7305c81b6e5a7c340" id="r_a4ea7b4717bd544e7305c81b6e5a7c340"><td class="memItemLeft" align="right" valign="top"><a id="a4ea7b4717bd544e7305c81b6e5a7c340" name="a4ea7b4717bd544e7305c81b6e5a7c340"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>lux_i</b></td></tr>
<tr class="separator:a4ea7b4717bd544e7305c81b6e5a7c340"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acedd167f4bc71b311f5dfb9d0fb8ff28" id="r_acedd167f4bc71b311f5dfb9d0fb8ff28"><td class="memItemLeft" align="right" valign="top"><a id="acedd167f4bc71b311f5dfb9d0fb8ff28" name="acedd167f4bc71b311f5dfb9d0fb8ff28"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>returnRslt</b></td></tr>
<tr class="separator:acedd167f4bc71b311f5dfb9d0fb8ff28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b4a69da99f6fe58bb6551dd68dd3637" id="r_a4b4a69da99f6fe58bb6551dd68dd3637"><td class="memItemLeft" align="right" valign="top"><a id="a4b4a69da99f6fe58bb6551dd68dd3637" name="a4b4a69da99f6fe58bb6551dd68dd3637"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>g_s32ActualTemp</b> = 0</td></tr>
<tr class="separator:a4b4a69da99f6fe58bb6551dd68dd3637"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a030c36a45c4d9413a16e71eabcc38f47" id="r_a030c36a45c4d9413a16e71eabcc38f47"><td class="memItemLeft" align="right" valign="top"><a id="a030c36a45c4d9413a16e71eabcc38f47" name="a030c36a45c4d9413a16e71eabcc38f47"></a>
unsigned int&#160;</td><td class="memItemRight" valign="bottom"><b>g_u32ActualPress</b> = 0</td></tr>
<tr class="separator:a030c36a45c4d9413a16e71eabcc38f47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53affc37dafcca18ed27818b93980eaa" id="r_a53affc37dafcca18ed27818b93980eaa"><td class="memItemLeft" align="right" valign="top"><a id="a53affc37dafcca18ed27818b93980eaa" name="a53affc37dafcca18ed27818b93980eaa"></a>
unsigned int&#160;</td><td class="memItemRight" valign="bottom"><b>g_u32ActualHumity</b> = 0</td></tr>
<tr class="separator:a53affc37dafcca18ed27818b93980eaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a8167df154b23e1fbb3a2368c4ca7d0" id="r_a2a8167df154b23e1fbb3a2368c4ca7d0"><td class="memItemLeft" align="right" valign="top"><a id="a2a8167df154b23e1fbb3a2368c4ca7d0" name="a2a8167df154b23e1fbb3a2368c4ca7d0"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>T_act</b></td></tr>
<tr class="separator:a2a8167df154b23e1fbb3a2368c4ca7d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc302c75ed19fd32f1de03d8fc4654bc" id="r_adc302c75ed19fd32f1de03d8fc4654bc"><td class="memItemLeft" align="right" valign="top"><a id="adc302c75ed19fd32f1de03d8fc4654bc" name="adc302c75ed19fd32f1de03d8fc4654bc"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>BME_on</b> = true</td></tr>
<tr class="separator:adc302c75ed19fd32f1de03d8fc4654bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa845800eca257660a66d413d2c7d1e14" id="r_aa845800eca257660a66d413d2c7d1e14"><td class="memItemLeft" align="right" valign="top"><a id="aa845800eca257660a66d413d2c7d1e14" name="aa845800eca257660a66d413d2c7d1e14"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>Sensor_OK</b> = 0</td></tr>
<tr class="separator:aa845800eca257660a66d413d2c7d1e14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac985171ebed5e6786346b48dba6b7f9d" id="r_ac985171ebed5e6786346b48dba6b7f9d"><td class="memItemLeft" align="right" valign="top"><a id="ac985171ebed5e6786346b48dba6b7f9d" name="ac985171ebed5e6786346b48dba6b7f9d"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>Opt_OK</b></td></tr>
<tr class="separator:ac985171ebed5e6786346b48dba6b7f9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b60d92871abc3e76febc3859aab3683" id="r_a1b60d92871abc3e76febc3859aab3683"><td class="memItemLeft" align="right" valign="top"><a id="a1b60d92871abc3e76febc3859aab3683" name="a1b60d92871abc3e76febc3859aab3683"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>Bme_OK</b></td></tr>
<tr class="separator:a1b60d92871abc3e76febc3859aab3683"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a632782e5c8c3170c36504b2146f55b95" id="r_a632782e5c8c3170c36504b2146f55b95"><td class="memItemLeft" align="right" valign="top"><a id="a632782e5c8c3170c36504b2146f55b95" name="a632782e5c8c3170c36504b2146f55b95"></a>
volatile int&#160;</td><td class="memItemRight" valign="bottom"><b>Max_pos</b> = 4200</td></tr>
<tr class="separator:a632782e5c8c3170c36504b2146f55b95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7075f1d467852d677481da4331e0275" id="r_ae7075f1d467852d677481da4331e0275"><td class="memItemLeft" align="right" valign="top"><a id="ae7075f1d467852d677481da4331e0275" name="ae7075f1d467852d677481da4331e0275"></a>
volatile int&#160;</td><td class="memItemRight" valign="bottom"><b>Min_pos</b> = 1300</td></tr>
<tr class="separator:ae7075f1d467852d677481da4331e0275"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae84a32a3da20272d17af1e021c8ebf31" id="r_ae84a32a3da20272d17af1e021c8ebf31"><td class="memItemLeft" align="right" valign="top"><a id="ae84a32a3da20272d17af1e021c8ebf31" name="ae84a32a3da20272d17af1e021c8ebf31"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>PeriodoPWM</b></td></tr>
<tr class="separator:ae84a32a3da20272d17af1e021c8ebf31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a285ebd86218116fd191c569ffcc08f50" id="r_a285ebd86218116fd191c569ffcc08f50"><td class="memItemLeft" align="right" valign="top"><a id="a285ebd86218116fd191c569ffcc08f50" name="a285ebd86218116fd191c569ffcc08f50"></a>
volatile int&#160;</td><td class="memItemRight" valign="bottom"><b>pos_180</b> = 0</td></tr>
<tr class="separator:a285ebd86218116fd191c569ffcc08f50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4a758c098f12dc4d1f8db7bf0349b14" id="r_ab4a758c098f12dc4d1f8db7bf0349b14"><td class="memItemLeft" align="right" valign="top"><a id="ab4a758c098f12dc4d1f8db7bf0349b14" name="ab4a758c098f12dc4d1f8db7bf0349b14"></a>
volatile int&#160;</td><td class="memItemRight" valign="bottom"><b>posicion</b></td></tr>
<tr class="separator:ab4a758c098f12dc4d1f8db7bf0349b14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4365545fd48c51e8d4fa9ebb99c6a72f" id="r_a4365545fd48c51e8d4fa9ebb99c6a72f"><td class="memItemLeft" align="right" valign="top"><a id="a4365545fd48c51e8d4fa9ebb99c6a72f" name="a4365545fd48c51e8d4fa9ebb99c6a72f"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>ang</b></td></tr>
<tr class="separator:a4365545fd48c51e8d4fa9ebb99c6a72f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a961800bf60ff693820efbf7f4bc72788" id="r_a961800bf60ff693820efbf7f4bc72788"><td class="memItemLeft" align="right" valign="top"><a id="a961800bf60ff693820efbf7f4bc72788" name="a961800bf60ff693820efbf7f4bc72788"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>cont</b></td></tr>
<tr class="separator:a961800bf60ff693820efbf7f4bc72788"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb828dbdac1fb6e3e8a9f645020f32a8" id="r_afb828dbdac1fb6e3e8a9f645020f32a8"><td class="memItemLeft" align="right" valign="top"><a id="afb828dbdac1fb6e3e8a9f645020f32a8" name="afb828dbdac1fb6e3e8a9f645020f32a8"></a>
char&#160;</td><td class="memItemRight" valign="bottom"><b>buffer</b> [2][20]</td></tr>
<tr class="separator:afb828dbdac1fb6e3e8a9f645020f32a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41e32bed19ee3e6d73bc15f73999230f" id="r_a41e32bed19ee3e6d73bc15f73999230f"><td class="memItemLeft" align="right" valign="top"><a id="a41e32bed19ee3e6d73bc15f73999230f" name="a41e32bed19ee3e6d73bc15f73999230f"></a>
unsigned long&#160;</td><td class="memItemRight" valign="bottom"><b>REG_TT</b> [6]</td></tr>
<tr class="separator:a41e32bed19ee3e6d73bc15f73999230f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a57d992acd075347f8c2f6d5701d493" id="r_a2a57d992acd075347f8c2f6d5701d493"><td class="memItemLeft" align="right" valign="top"><a id="a2a57d992acd075347f8c2f6d5701d493" name="a2a57d992acd075347f8c2f6d5701d493"></a>
const int32_t&#160;</td><td class="memItemRight" valign="bottom"><b>REG_CAL</b> [6] = { CAL_DEFAULTS }</td></tr>
<tr class="separator:a2a57d992acd075347f8c2f6d5701d493"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad07846b4ca8e40801d7eb5df65a0ea18" id="r_ad07846b4ca8e40801d7eb5df65a0ea18"><td class="memItemLeft" align="right" valign="top"><a id="ad07846b4ca8e40801d7eb5df65a0ea18" name="ad07846b4ca8e40801d7eb5df65a0ea18"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>lampara</b> = 0</td></tr>
<tr class="separator:ad07846b4ca8e40801d7eb5df65a0ea18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62b85af9764c6b157c095cddbdaf002a" id="r_a62b85af9764c6b157c095cddbdaf002a"><td class="memItemLeft" align="right" valign="top"><a id="a62b85af9764c6b157c095cddbdaf002a" name="a62b85af9764c6b157c095cddbdaf002a"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>ventilador</b> = 0</td></tr>
<tr class="separator:a62b85af9764c6b157c095cddbdaf002a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a319a1b9db52e9a2f11b29fa48fae0346" id="r_a319a1b9db52e9a2f11b29fa48fae0346"><td class="memItemLeft" align="right" valign="top"><a id="a319a1b9db52e9a2f11b29fa48fae0346" name="a319a1b9db52e9a2f11b29fa48fae0346"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>pastilla</b> = 0</td></tr>
<tr class="separator:a319a1b9db52e9a2f11b29fa48fae0346"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ee28cf88301abf9357d6d47540687ce" id="r_a7ee28cf88301abf9357d6d47540687ce"><td class="memItemLeft" align="right" valign="top"><a id="a7ee28cf88301abf9357d6d47540687ce" name="a7ee28cf88301abf9357d6d47540687ce"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>comida</b> = 0</td></tr>
<tr class="separator:a7ee28cf88301abf9357d6d47540687ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a02cf061905923cb3e13a7368d0553a" id="r_a8a02cf061905923cb3e13a7368d0553a"><td class="memItemLeft" align="right" valign="top"><a id="a8a02cf061905923cb3e13a7368d0553a" name="a8a02cf061905923cb3e13a7368d0553a"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>ayuda</b> = 0</td></tr>
<tr class="separator:a8a02cf061905923cb3e13a7368d0553a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28560e77337296cc59366f48cb3e9efa" id="r_a28560e77337296cc59366f48cb3e9efa"><td class="memItemLeft" align="right" valign="top"><a id="a28560e77337296cc59366f48cb3e9efa" name="a28560e77337296cc59366f48cb3e9efa"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>emergencia</b> = 0</td></tr>
<tr class="separator:a28560e77337296cc59366f48cb3e9efa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Sistema integrado: sensores, pantalla FT800, servo, motor, LED RGB y UART. </p>
<p>Implementa:</p><ul>
<li>Lectura de sensores (MQ-x, BME280, OPT3001)</li>
<li>Control de actuadores (motor DC, servo persianas, LED RGB)</li>
<li>Gestion del Boosterpack (I2C)</li>
<li>Comunicacion UART</li>
<li>Interfaz grafica FT800</li>
<li>Bucle principal sincronizado mediante Timer (50 ms)</li>
</ul>
<dl class="section author"><dt>Authors</dt><dd><ul>
<li>Alba R.</li>
<li>Alejandra D-C.</li>
</ul>
</dd></dl>
<dl class="section date"><dt>Date</dt><dd>Noviembre 2025 </dd></dl>
<h1><a class="anchor" id="mapa_de_pines"></a>
Mapa de pines utilizados.</h1>
<p>Sensor de humos:</p><ul>
<li>PD2 -&gt; AIN13 (ADC)</li>
<li>PP0 -&gt; DOUT (digital)</li>
</ul>
<p>Motor DC (L293):</p><ul>
<li>PF2 -&gt; PWM velocidad (1-2EN)</li>
<li>PC6 -&gt; 1A (adelante)</li>
<li>PC7 -&gt; 2A (atras)</li>
</ul>
<p>Iman (puerta):</p><ul>
<li>PA7 -&gt; entrada digital</li>
</ul>
<p>LED RGB:</p><ul>
<li>PG1 -&gt; PWM rojo (PWM_OUT_5)</li>
<li>PK4 -&gt; PWM verde (PWM_OUT_6)</li>
<li>PK5 -&gt; PWM azul (PWM_OUT_7)</li>
</ul>
<p>UART0:</p><ul>
<li>PA0 -&gt; RX</li>
<li>PA1 -&gt; TX</li>
</ul>
<p>Servo persianas:</p><ul>
<li>PF1 -&gt; PWM_OUT_1 </li>
</ul>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="ae0bce10ff1544af7de342615a8a663da" name="ae0bce10ff1544af7de342615a8a663da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0bce10ff1544af7de342615a8a663da">&#9670;&#160;</a></span>DatosPantalla()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DatosPantalla </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Procesa la interaccion tactil y actualiza estados. </p>
<p>Cambia: lampara, ventilador, pastilla, comida, ayuda, emergencia. </p>

</div>
</div>
<a id="afc25f0d3b85ff4769fa96f13d576b6a5" name="afc25f0d3b85ff4769fa96f13d576b6a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc25f0d3b85ff4769fa96f13d576b6a5">&#9670;&#160;</a></span>DibujaRecordatorios()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DibujaRecordatorios </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>pastilla</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>comida</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Dibuja recordatorios de pastilla y comida. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pastilla</td><td>indicador </td></tr>
    <tr><td class="paramname">comida</td><td>indicador </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7c5807bc5365e226f047aae4eb7cf1e1" name="a7c5807bc5365e226f047aae4eb7cf1e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c5807bc5365e226f047aae4eb7cf1e1">&#9670;&#160;</a></span>humo_Detectar()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void humo_Detectar </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Lee ADC y pin digital del sensor de humos; actualiza estados. </p>
<p>Actualiza: adcValue, gasDetectadoAnag, gasDetected </p>

</div>
</div>
<a id="a5de242fd78783f909185758b19e26d94" name="a5de242fd78783f909185758b19e26d94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5de242fd78783f909185758b19e26d94">&#9670;&#160;</a></span>humo_Precalentar()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void humo_Precalentar </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Ejecuta el precalentamiento del sensor MQ. </p>
<p>Bloqueante: espera PREHEAT_TICKS * 50 ms. </p>

</div>
</div>
<a id="a7121f53a94274f5f8d62d551c8272f5c" name="a7121f53a94274f5f8d62d551c8272f5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7121f53a94274f5f8d62d551c8272f5c">&#9670;&#160;</a></span>IntTimer0()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IntTimer0 </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ISR del Timer0A (periodo 50 ms). </p>
<p>Limpia la interrupcion, aplica pequeno delay por errata y aumenta el contador de sincronizacion. </p>

</div>
</div>
<a id="a49993f2f28c23c34d5106c954f5b0dd6" name="a49993f2f28c23c34d5106c954f5b0dd6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49993f2f28c23c34d5106c954f5b0dd6">&#9670;&#160;</a></span>led()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void led </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>DutyRojo</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>DutyVerde</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>DutyAzul</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Ajusta el brillo de cada canal del LED RGB. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">DutyRojo</td><td>0-255 intensidad rojo </td></tr>
    <tr><td class="paramname">DutyVerde</td><td>0-255 intensidad verde </td></tr>
    <tr><td class="paramname">DutyAzul</td><td>0-255 intensidad azul </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a155a5b13c56d205f4045224707faa9f6" name="a155a5b13c56d205f4045224707faa9f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a155a5b13c56d205f4045224707faa9f6">&#9670;&#160;</a></span>led_Inicializar_Pines()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void led_Inicializar_Pines </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Inicializa los pines PWM del LED RGB (PG1, PK4, PK5). </p>
<p>Configura generadores PWM y periodos. </p>

</div>
</div>
<a id="a2706cc95183f7dc0c3c3b0a96bc7fa59" name="a2706cc95183f7dc0c3c3b0a96bc7fa59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2706cc95183f7dc0c3c3b0a96bc7fa59">&#9670;&#160;</a></span>lee_sensores()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lee_sensores </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Lee sensores de luz y temperatura/humedad y publica por UART. </p>
<p>Variables actualizadas: lux, lux_i, T_act</p>
<p>Funcion lee_sensores. </p>

</div>
</div>
<a id="a840291bc02cba5474a4cb46a9b9566fe" name="a840291bc02cba5474a4cb46a9b9566fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a840291bc02cba5474a4cb46a9b9566fe">&#9670;&#160;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Funcion principal. </p>
<p>Inicializa modulos y ejecuta bucle periodico. </p><dl class="section return"><dt>Returns</dt><dd>no retorna </dd></dl>

</div>
</div>
<a id="a970526217a909e7ae5bcd0d0d22d1829" name="a970526217a909e7ae5bcd0d0d22d1829"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a970526217a909e7ae5bcd0d0d22d1829">&#9670;&#160;</a></span>MandaMensaje()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MandaMensaje </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>s</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Anade un mensaje al buffer de pantalla (max 2). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>cadena a mostrar</td></tr>
  </table>
  </dd>
</dl>
<p>Funcion MandaMensaje. </p>

</div>
</div>
<a id="a6c1d56d075faa8ca6e9e6526160f6bb1" name="a6c1d56d075faa8ca6e9e6526160f6bb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c1d56d075faa8ca6e9e6526160f6bb1">&#9670;&#160;</a></span>motor_Configurar_Pines()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void motor_Configurar_Pines </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configura pines de direccion y PWM del motor DC. </p>
<p>PF2 -&gt; PWM, PC6/PC7 -&gt; direccion. </p>

</div>
</div>
<a id="a56f7aa3e3db2ad5dec92d18c8f236693" name="a56f7aa3e3db2ad5dec92d18c8f236693"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56f7aa3e3db2ad5dec92d18c8f236693">&#9670;&#160;</a></span>motor_Direccion()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void motor_Direccion </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>dir</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Establece la direccion del motor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dir</td><td>0 = adelante, 1 = atras </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a32c37aadf57658eec0881bffb668ccb1" name="a32c37aadf57658eec0881bffb668ccb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32c37aadf57658eec0881bffb668ccb1">&#9670;&#160;</a></span>motor_Encendido_Apagado()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void motor_Encendido_Apagado </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>estado</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enciende o apaga el motor mediante PWM. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">estado</td><td>1 = encendido, 0 = apagado </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abdab703c6d13176117ff4fcaeafc283b" name="abdab703c6d13176117ff4fcaeafc283b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abdab703c6d13176117ff4fcaeafc283b">&#9670;&#160;</a></span>motor_Velocidad()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void motor_Velocidad </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>porcentaje</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Ajusta la velocidad del motor DC. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">porcentaje</td><td>0-100 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad51a376c250d2358dd6b2042811edb77" name="ad51a376c250d2358dd6b2042811edb77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad51a376c250d2358dd6b2042811edb77">&#9670;&#160;</a></span>puerta_Detectar()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void puerta_Detectar </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Lee el estado del sensor iman (puerta) y lo imprime por UART. </p>
<p>Actualiza la variable global <code>puerta_abierta</code>. </p>

</div>
</div>
<a id="a66f962892a7af0c8894838239247d0ba" name="a66f962892a7af0c8894838239247d0ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66f962892a7af0c8894838239247d0ba">&#9670;&#160;</a></span>Servo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Servo </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>angulo_objetivo</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Mueve servo hacia angulo objetivo suavemente. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">angulo_objetivo</td><td>0..180 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa9c40ba2718ca2b741067fdeab61a385" name="aa9c40ba2718ca2b741067fdeab61a385"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9c40ba2718ca2b741067fdeab61a385">&#9670;&#160;</a></span>SysCtlSleepFake()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SysCtlSleepFake </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Simula modo Sleep: bloquea hasta el flag de interrupcion. </p>
<p>La rutina espera a que el timer incremente Flag_ints y lo limpia. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="_integracion__pantalla__documentado_8c.html">Integracion_pantalla_documentado.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
